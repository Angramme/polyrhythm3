(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(t,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(6634)}])},9047:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return Field1}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7294),_hooks_useTheme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6503);function eval_math_expr(exp){let reg=/(?:[a-z$_][a-z0-9$_]*)|(?:[;={}\[\]"'!&<>^\\?:])/ig,valid=!0,res=null;if(exp=exp.replace(reg,function(t){if(Math.hasOwnProperty(t))return"Math."+t;valid=!1}),!valid)return null;try{res=eval(exp)}catch(e){return null}return res}function Field1(t){let{className:n,type:l,style:o,onInput:d,onAbandon:u,...m}=t,f=(0,_hooks_useTheme__WEBPACK_IMPORTED_MODULE_2__.F)(__webpack_require__(2459)),p=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(),[g,y]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{null!=m.defaultValue&&void 0!=m.defaultValue&&(p.current.value=m.defaultValue,y(!1))},[m.defaultValue]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:n,style:o,children:[m.name?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:f.title,children:m.name}):"",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{ref:p,type:"number"==l?"text":l,className:f.field+(l?" "+f["type-"+l]:"")+(g?" "+f.wrong:""),onInput:function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];let u=n[0].target,f=u.value,p=f;if("number"==l){let t=eval_math_expr(u.value);if(null==t||void 0==t||m.min&&t<Number(m.min)||m.max&&t>Number(m.max)||m.step&&t%Number(m.step)!=0)return y(!0);p=t}g&&y(!1),d(p,f)},onBlur:function(){for(var t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];let o=n[0].target;u&&""==o.value&&u()}})]})}},6503:function(t,n,l){"use strict";l.d(n,{F:function(){return d}});var o=l(6573);function d(t){let n=(0,o.vs)().darkModeActive;return u(t,n?"dark":"light")}function u(t,n){let l=t[n];if(!l)return t;let o={dark:l};return Object.entries(t).forEach(t=>{let[d,u]=t;d!=n&&(o[d]=u+" "+l)}),o}},9992:function(t,n,l){"use strict";l.r(n),l.d(n,{addTimes:function(){return u},withScale:function(){return d}});let o=l(8333),d=t=>n=>"".concat(Math.round(o.Time(n).toTicks()*t),"i"),u=(t,n)=>"".concat(o.Time(t).toTicks()+o.Time(n).toTicks(),"i")},9042:function(t,n,l){"use strict";l.d(n,{Z:function(){return m}});let o=l(8333),{withScale:d,addTimes:u}=l(9992);function m(t,n){let l=n.reduce((t,n)=>t+n.length*(n.repeat+1),0);o.Transport.loop=!0,o.Transport.loopStart=0,o.Transport.loopEnd=d(l)("1m"),o.Transport.timeSignature=[4,4];let m=0;n.forEach((n,l)=>{let f=d(n.length)("".concat(1+n.repeat,"m"));n.ratios.forEach((l,f)=>{if(l<=0)return;let p=n.subdivide[f]||1,g=d(n.length/(l*p))("1n"),y=d(n.offsets[f]||0)(g);for(let w=0,N=u(m,y);w<l*p*(1+n.repeat);w++,N=u(N,g)){let u=w%p==0,m=d(.98*n.length/(l*p))("1n"),g={accent:u,duration:m,track:f};o.Transport.schedule(n=>t(n,g),N)}}),o.Transport.schedule(t=>{setTimeout(()=>{o.Transport.swing=n.swing},(t-o.Transport.now())*1e3)},m),m=u(m,f)})}},6634:function(t,n,l){"use strict";l.r(n),l.d(n,{default:function(){return eE}});var o=l(5893),d=l(7294),u=l(6885),m=l(6503),f=l(4529);function p(){return window?(window.__my_context||(window.__my_context={_tone:l(8333)}),window.__my_context):null}let g=l(8333),y=[{name:"string",make:()=>new g.PluckSynth({attackNoise:1,dampening:4e3,resonance:.75}),trigger:t=>(n,l,o)=>t.triggerAttackRelease(o?"C5":"C4",n,l,.2)},{name:"hi-hat",make:()=>new g.NoiseSynth({volume:-15,filter:{Q:1},envelope:{attack:.01,decay:.15},filterEnvelope:{attack:.01,decay:.03,baseFrequency:4e3,octaves:-2.5,exponent:4}}),trigger:t=>(n,l,o)=>t.triggerAttackRelease(n,l,.8)},{name:"kick",make:()=>new g.MembraneSynth({pitchDecay:.05,octaves:2,oscillator:{type:"sine"},envelope:{attack:.001,decay:.2,sustain:.05,release:.01,attackCurve:"exponential"}}),trigger:t=>(n,l,o)=>t.triggerAttackRelease(o?"G2":"E2",n,l,.8)},{name:"click",make:()=>new g.AMSynth({harmonicity:3,detune:0,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.01,sustain:.8,release:.4},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}),trigger:t=>(n,l,o)=>t.triggerAttackRelease(o?"C5":"F5",.1,l,o?1:.8)}].concat(["Cowbell-1.wav","Cowbell-2.wav","Cowbell-3.wav","Clave-1.wav","Closed-Hi-Hat-1.wav","Ensoniq-SQ-1-Ride-Cymbal.wav"].map(t=>({name:t.split(".")[0],make:()=>new g.Player("https://".concat(window.location.host,"/sounds/").concat(t)),trigger:t=>(n,l,o)=>{t.restart(l,0,n)}}))),w=y.map(t=>t.name),N=()=>w;function C(t){return[y[t].make(),t]}function T(t){let[n,l]=t;return y[l].trigger(n)}function A(t,n){let l=p();return l.old_synths||(l.old_synths=[]),l.synths=t.slice(0,n).map((t,n)=>{if(l.old_synths[n]&&l.old_synths[n][0]&&l.old_synths[n][1]==t){let o=[l.old_synths[n][0],t];return l.old_synths[n][0]=null,o}{let[n,l]=C(t);return[n.toMaster(),l]}}),l.old_synths&&(l.old_synths.forEach(t=>{let[n,l]=t;n&&(n.disconnect(),n.dispose())}),l.old_synths=[]),l.triggers=l.synths.map(t=>T(t)),function(){l.triggers=[],l.old_synths=l.synths,l.synths=[]}}let D=()=>p().triggers,M=t=>t%N().length,I=()=>({length:1,repeat:0,swing:0,ratios:[1,4],subdivide:[1,1],offsets:[0,0]}),B=(0,f.ZP)(t=>({sections:[I()],curSection:0,editMode:"section",instrumentIDs:Array.from({length:10},(t,n)=>M(n)),addSection:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return t(t=>({sections:[...t.sections,n]}))},swapSections:(n,l)=>t(t=>{let o=t.sections[n];return t.sections[n]=t.sections[l],t.sections[l]=o,{sections:[...t.sections]}}),setSections:n=>t({sections:n}),setInstrumentIDs:n=>t({instrumentIDs:n}),setCurSection:n=>t({curSection:n}),setEditMode:n=>t({editMode:n}),paused:!0,bpm:100,pause:()=>t({paused:!0}),play:()=>t({paused:!1}),setBpm:n=>t({bpm:n})}));var Z=B,L=l(6248);let O="_",R="a";function V(t,n){return"?"+Object.entries({lengths:t.map(t=>t.length).join(O),repeats:t.map(t=>t.repeat).join(O),swings:t.map(t=>t.swing).join(O),ratios:t.map(t=>t.ratios.join(R)).join(O),subdivides:t.map(t=>t.subdivide.join(R)).join(O),offsets:t.map(t=>t.offsets.join(R)).join(O),bpm:n}).map(t=>{let[n,l]=t;return"&".concat(n,"=").concat(l)}).join("").slice(1)}function z(t){let n=t.lengths.split(O).map(Number),l=t.repeats.split(O).map(Number),o=t.swings.split(O).map(Number),d=t.ratios.split(O).map(t=>t.split(R).map(Number)),u=t.subdivides.split(O).map(t=>t.split(R).map(Number)),m=t.offsets.split(O).map(t=>t.split(R).map(Number));return n.map((t,n)=>({length:t,repeat:l[n],swing:o[n],ratios:d[n],subdivide:u[n],offsets:m[n]}))}function P(t){let n=document.createElement("canvas"),l=32,o=.7;n.width=n.height=l;let d=n.getContext("2d");return d.font="".concat(l/2|0,"px Helvetica, Arial, sans-serif"),d.fillStyle="yellow",d.fillRect(0,0,l,l),d.fillStyle="black",d.textAlign="center",d.textBaseline="middle",t.forEach((n,u)=>{d.fillText(n.ratios.join(":"),l/2,o*l/t.length*(.7+u)+(1-o)*l/2|0)}),n.toDataURL()}var q=l(8193),X=l(9327);let U=l(8333);function H(){let[t,n,u,f,p,g,y]=Z((0,d.useCallback)(t=>[t.sections,t.swapSections,t.addSection,t.curSection,t.setCurSection,t.bpm,t.editMode],[]),L.X),w=(0,m.F)(l(8806)),N=(0,d.useMemo)(()=>t.reduce((t,n)=>Math.max(t,n.ratios.length),0),[t]),C=(0,d.useMemo)(()=>t.reduce((t,n)=>t+n.length*(1+n.repeat),0),[t]),T=(0,d.useRef)(),A=(0,d.useRef)();(0,d.useEffect)(()=>{let t=U.Time("1m").toTicks()*C,n=!1,l=0,o=.06,d=null,u=null,m=()=>{u=(d=A.current.offsetWidth)*o};m(),window.addEventListener("resize",m);let f=()=>{if(!T.current||!A.current)return;let m=Math.min(d,d*U.Time(U.Transport.position).toTicks()/t);(m=Math.round(m/u)*u)!=l&&(T.current.style.transform="translateX(".concat(m,"px)"),T.current.style.transition=0!=m?"transform ".concat(60*o*C*4/g,"s linear"):null,l=m),n||requestAnimationFrame(f)};return f(),function(){n=!0,window.removeEventListener("resize",m)}},[A.current,C]);let D=(0,d.useRef)(null),M=(0,d.useRef)(null),I=(0,d.useCallback)(t=>{t.preventDefault(),t.dataTransfer.dropEffect="move"},[]),B=(0,d.useCallback)(t=>{t.preventDefault();let n=t.target.closest("."+w.section);n.dragover_count||(n.dragover_count=0),n.dragover_count++,n.classList.add(w.dragover)},[]),O=(0,d.useCallback)(t=>{t.preventDefault();let n=t.target.closest("."+w.section);n.dragover_count--,0==n.dragover_count&&n.classList.remove(w.dragover)},[]),R=(0,d.useCallback)(t=>n=>{p(t),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("number",t);let l=document.createElement("div");l.style.visibility="hidden",n.dataTransfer.setDragImage(l,0,0);let o=n.target.getBoundingClientRect();M.current=(o.left+o.right)/2,n.target.style.transition="transform .2s",n.target.style.transform="translate(".concat(n.clientX-M.current,"px, ").concat(0|-(.5*n.target.offsetHeight),"px)\n        scale(.5)"),setTimeout(()=>{n.target.style.transition=null,D.current=n.target},150)},[]),V=(0,d.useCallback)(t=>{D.current=null,t.target.style.transition=null,t.target.style.transform=null,t.target.style.zIndex=null},[]),z=(0,d.useCallback)(t=>{if(!D.current)return;let n=D.current.style;n.transform="translate(".concat(t.clientX-M.current,"px, ").concat(0|-(.5*D.current.offsetHeight),"px)\n            scale(.5)"),n.zIndex=11},[D,M]),P=(0,d.useCallback)(t=>l=>{D.current.style.transition=null,D.current.style.transform=null,D.current.style.zIndex=null,D.current=null;let o=l.target.closest("."+w.section);o.dragover_count=0,o.classList.remove(w.dragover),p(t),n(t,Number(l.dataTransfer.getData("number")))},[]),H=1;return(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("div",{className:w.add_btn,onClick:()=>u(),children:(0,o.jsx)(q.Lfi,{style:{verticalAlign:"middle"}})}),(0,o.jsx)("div",{ref:A,className:w.bar_parent,children:(0,o.jsx)("div",{ref:T,className:w.bar})}),(0,o.jsx)("div",{className:w.container,children:t.map((n,l)=>(0,o.jsx)("div",{className:w.section+(l==f&&t.length>1&&"section"==y?" "+w.current:""),style:{flexBasis:"".concat(100*n.length*(n.repeat+1)/C,"%"),cursor:f==l?"grab":"pointer"},onClick:()=>p(l),onDragStart:R(l),onDragEnd:V,onDragOver:I,onDrag:z,onDragEnter:B,onDragLeave:O,onDrop:P(l),draggable:!0,children:Array.from({length:n.repeat+1},(t,l)=>(0,o.jsxs)("div",{className:w.section_part+(l>0?" "+w.repeated:"")+(H++%2==0?" "+w.even:""),children:[Array.from({length:N},(t,l)=>{let d=n.ratios[l]||0,u=n.subdivide[l]||1,m=n.offsets[l]||0;return(0,o.jsx)("div",{className:w.row,children:Array.from({length:d*u},(t,n)=>(0,o.jsx)("div",{className:w.dot+(n%u==0?"":" "+w.sub_dot),children:(0,o.jsx)("div",{style:{left:m?"".concat(100*m,"%"):null}})},"dot"+n))},"row"+l)}),(0,o.jsx)("div",{className:w.repeat_line,children:(0,o.jsx)(X.oic,{})}),1!=n.length&&0==l?(0,o.jsxs)("div",{className:w.scale_corner,children:[(0,o.jsx)("span",{children:String(n.length).substr(0,4)}),(0,o.jsx)(q.gV0,{style:{verticalAlign:"middle"}})]}):""]},l))},"section"+l))})]})}var G=l(9047);function Q(t){let{className:n,name:u,onInput:f,defaultValue:p,min:g,max:y,step:w,delimiter:N,...C}=t,T=(0,m.F)(l(5293)),A=(0,d.useMemo)(()=>(p||"").split(N||":").map(Number),[p,N]),[D,M]=(0,d.useState)(A),[I,B]=(0,d.useState)(null);return(0,d.useEffect)(()=>{if(I&&I==D)return B(null);f&&f(D)},[D]),(0,d.useEffect)(()=>{B(A),M(A)},[A]),(0,o.jsxs)("div",{className:T.container+(n?" "+n:""),children:[(0,o.jsx)("div",{className:T.ratios,children:D.map((t,n)=>(0,o.jsxs)("div",{children:[(0,o.jsx)(G.Z,{className:T.field,defaultValue:t,type:"number",step:w,min:g,max:y,onInput:(t,l)=>{t.length<=0||(D[n]=t,M([...D]))},onAbandon:()=>{D.splice(n,1),M([...D])}}),n<D.length-1?(0,o.jsx)("div",{className:T.delimiter,children:" : "}):""]},n))}),(0,o.jsx)("div",{className:T.add_btn,onClick:()=>M([...D,g||0]),children:(0,o.jsx)(q.Lfi,{style:{verticalAlign:"middle"}})})]})}var J=l(7079),K=l.n(J);function Y(){let[t,n,u,f]=Z((0,d.useCallback)(t=>[t.sections,t.setSections,t.curSection,t.setCurSection],[]),L.X),p=(0,m.F)(l(2422)),g=(0,d.useMemo)(()=>t[u],[t,u]),y=t=>{let n=[g.ratios,g.subdivide,g.offsets],l=[1,1,0];if(t)for(let o=0;o<3;o++){let d=n[o];if(d.length>t)d.length=t;else if(d.length<t)for(let n=0;n<t-d.length;n++)d.push(l[o])}},w=l=>o=>{null!=o&&void 0!=o&&(l(o),n(K()(t)))};return(0,o.jsx)("div",{className:p.container,children:(0,o.jsxs)("div",{className:p.flex_container,children:[(0,o.jsx)("table",{className:p.table,children:(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"ratios"}),(0,o.jsx)("td",{children:(0,o.jsx)(Q,{className:p.picker,name:"ratios",defaultValue:g.ratios.join(":"),min:1,step:1,onInput:w(t=>{g.ratios=t,y(t.length)})})})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"subdivides"}),(0,o.jsx)("td",{children:(0,o.jsx)(Q,{name:"subdivide",defaultValue:g.subdivide.join(":"),step:1,min:1,onInput:w(t=>{g.subdivide=t,y(t.length)})})})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"offsets"}),(0,o.jsx)("td",{children:(0,o.jsx)(Q,{name:"offsets",defaultValue:g.offsets.join(":"),max:1,min:0,onInput:w(t=>{g.offsets=t,y(t.length)})})})]})]})}),(0,o.jsx)("table",{className:p.single_fields+" "+p.table,children:(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"scale"}),(0,o.jsx)("td",{children:(0,o.jsx)(G.Z,{type:"number",min:"0",defaultValue:g.length,onInput:w(t=>g.length=t)})})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"repeat"}),(0,o.jsx)("td",{children:(0,o.jsx)(G.Z,{type:"number",step:"1",min:"0",defaultValue:g.repeat,onInput:w(t=>g.repeat=t)})})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"swing"}),(0,o.jsx)("td",{children:(0,o.jsx)(G.Z,{type:"number",min:"0",max:"1",defaultValue:g.swing,onInput:w(t=>g.swing=t)})})]}),(0,o.jsxs)("tr",{className:p.remove_btn,children:[(0,o.jsx)("th",{children:"remove"}),(0,o.jsx)("td",{children:(0,o.jsx)(G.Z,{type:"button",value:"remove",...t.length<=1?{disabled:!0}:{},onClick:w(()=>{if(console.log("hello"),t.length>1)return f(Math.max(0,u-1)),t.splice(t.indexOf(g),1)})})})]})]})})]})})}var $=l(9352);function ee(t){let{style:n}=t,[u,f,p,g,y,w,N]=Z((0,d.useCallback)(t=>[t.paused,t.pause,t.play,t.bpm,t.setBpm,t.editMode,t.setEditMode],[]),L.X),C=(0,m.F)(l(5179));return(0,o.jsx)("div",{className:C.container,style:n,children:(0,o.jsxs)("div",{className:C.transport_bar,children:[(0,o.jsx)("div",{className:C.transport_button,onClick:(0,d.useCallback)(()=>(u?p:f)(),[u]),children:u?(0,o.jsx)($.hpr,{style:{verticalAlign:"middle"}}):(0,o.jsx)($.bKE,{style:{verticalAlign:"middle"}})}),(0,o.jsx)("div",{className:C.transport_button,onClick:(0,d.useCallback)(()=>{l(8333).Transport.stop(),f()},[]),children:(0,o.jsx)($.vJm,{style:{verticalAlign:"middle"}})}),(0,o.jsx)("div",{style:{paddingLeft:"2em",paddingRight:".5em"},children:"bpm"}),(0,o.jsx)("div",{children:(0,o.jsx)(G.Z,{style:{width:"4em"},type:"number",defaultValue:g,onInput:t=>y(t)})}),(0,o.jsx)("div",{className:C.settings_button+("instrument"==w?" "+C.edit_mode:""),onClick:(0,d.useCallback)(()=>N("section"==w?"instrument":"section"),[w]),children:(0,o.jsx)($.XkT,{style:{verticalAlign:"middle"}})})]})})}var et=l(7516),en=l(7735);function es(t){var n=document.createElement("textarea");n.value=t,n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch(t){console.error("Fallback: Oops, unable to copy",t)}document.body.removeChild(n)}function er(t){if(!navigator.clipboard){es(t);return}navigator.clipboard.writeText(t)}var ea=l(6573),ei=l(6808),el=l.n(ei),eo=l(3729),ec=l.n(eo),ed=l(4021),eu=l.n(ed);function e_(t){let n=Array.from({length:t.reduce((t,n)=>Math.max(n.ratios.length,t),0)},()=>0),l=512,o=new(eu()).Track;for(let d of t){let t=l*d.length;for(let l=0;l<d.offsets.length;l++)n[l]+=d.offsets[l]*t/d.ratios[l]/(d.subdivide[l]||1)|0;for(let l=0;l<d.repeat+1;l++)for(let l=0;l<d.ratios.length;l++){let u=t/d.ratios[l]/(d.subdivide[l]||1);for(let t=0;t<d.ratios[l];t++){o.addEvent(new(eu()).NoteEvent({pitch:"".concat("CDEFGAB"[l%7]).concat(l/7+3|0),duration:"T".concat(Math.min(0|u,50)),startTick:n[l]})),n[l]+=0|u;for(let t=0;t<d.subdivide[l]-1;t++)o.addEvent(new(eu()).NoteEvent({pitch:"".concat("CDEFGAB"[l%7]).concat(l/7+3|0),duration:"T".concat(Math.min(0|u,50)),startTick:n[l],velocity:.7})),n[l]+=0|u}}for(let l=0;l<d.offsets.length;l++)n[l]-=d.offsets[l]*t/d.ratios[l]/(d.subdivide[l]||1)|0}return new(eu()).Writer(o).dataUri()}let ef="https://ozieblowski.dev";function ep(){let t=(0,m.F)(l(4886)),{darkModeActive:n,switchToDarkMode:u,switchToLightMode:f}=(0,ea.vs)(),p=()=>n?f():u(),[g,y]=(0,d.useState)(!1),[w,N]=(0,d.useState)({cb:()=>null}),[C,T]=(0,d.useState)(!1),A=!1,D=null,M=(0,d.useCallback)(t=>"yes"==el().get("is_supporter_already")?t():A&&Math.random()>D?(D+=.15,t()):void(y(!0),N({cb:function(){for(var n=arguments.length,l=Array(n),o=0;o<n;o++)l[o]=arguments[o];A=!0,D=.1,y(!1),t(...l)}})),[]),I=(0,d.useCallback)(()=>{T(!0),el().set("is_supporter_already","yes",{expires:111})},[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:t.sellout,style:{display:g?null:"none"},children:(0,o.jsxs)("div",{className:t.sellout_box,children:[C?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h1",{children:["Thank you! ","<3"]}),(0,o.jsx)("p",{children:"What a C H A D."})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"Ooops! Looks like this is a premium feature!"}),(0,o.jsx)("p",{children:"Just kidding it's not. (But it could be)"}),(0,o.jsxs)("p",{children:["Oh and by the way, did you know you can support me on",(0,o.jsx)("a",{href:"https://www.buymeacoffee.com/angramme",target:"_blank",children:" buymeacoffee.com/angramme"}),"?"]})]}),(0,o.jsxs)("div",{className:t.coffee_btns,children:[C?"":(0,o.jsxs)("a",{href:"https://www.buymeacoffee.com/angramme",target:"_blank",className:t.coffee_button,onClick:I,children:[(0,o.jsx)("img",{src:"https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg",alt:"Buy me a coffee",className:t.coffee_img}),(0,o.jsx)("span",{className:t.coffee_text,children:"Buy me a coffee"})]}),(0,o.jsx)("div",{className:t.imbroke,onClick:(0,d.useCallback)(w.cb,[w]),children:C?"Continue":"Nah fam, I'm broke"})]})]})}),(0,o.jsx)("div",{className:t.displacer}),(0,o.jsxs)("div",{className:t.left,children:[(0,o.jsxs)("div",{className:t.button,children:[(0,o.jsx)("a",{href:ef,target:"_blank",rel:"noopener",children:(0,o.jsx)(en.l8A,{style:{verticalAlign:"middle"}})}),(0,o.jsx)("div",{className:t.tooltip,children:"my website"})]}),(0,o.jsxs)("div",{className:t.button,children:[(0,o.jsx)("a",{href:"https://www.buymeacoffee.com/angramme",target:"_blank",rel:"noopener",children:(0,o.jsx)(et.vm6,{style:{verticalAlign:"middle"}})}),(0,o.jsx)("div",{className:t.tooltip,children:"buy me a coffee"})]}),(0,o.jsxs)("div",{className:t.button,children:[(0,o.jsx)("a",{href:"https://github.com/Angramme/polyrhythm3#tutorial",target:"_blank",rel:"noopener",children:(0,o.jsx)(et.CUu,{style:{verticalAlign:"middle"}})}),(0,o.jsx)("div",{className:t.tooltip,children:"Open help page."})]})]}),(0,o.jsxs)("div",{className:t.right,children:[(0,o.jsxs)("div",{className:t.button,children:[(0,o.jsx)(et.Ifu,{style:{verticalAlign:"middle"},onClick:(0,d.useCallback)(()=>{M(()=>{let t=Z.getState();er(window.location.origin+window.location.pathname+V(t.sections,t.bpm)),setTimeout(()=>alert("copied the url to clipboard! "),100)})},[])}),(0,o.jsx)("div",{className:t.tooltip,children:"share your rhythm"})]}),(0,o.jsxs)("div",{className:t.button,children:[(0,o.jsx)(en.ojp,{style:{verticalAlign:"middle"},onClick:(0,d.useCallback)(()=>{M(()=>{ec()(e_(Z.getState().sections),"Polyrhythm.mid")})},[])}),(0,o.jsx)("div",{className:t.tooltip,children:"export midi"})]}),(0,o.jsxs)("div",{className:t.button,children:[(0,o.jsx)("span",{onClick:p,children:n?(0,o.jsx)(et.dZ3,{style:{verticalAlign:"middle"}}):(0,o.jsx)(et.JuG,{style:{verticalAlign:"middle"}})}),(0,o.jsxs)("div",{className:t.tooltip,children:["switch to ",n?"light":"dark"," mode"]})]})]})]})}var eh=l(3658),eg=l(2520),ev=l.n(eg);function eb(t){let{...n}=t,l=(0,m.F)(ev());return(0,o.jsx)(eh.Z,{...n,controlClassName:l.control,menuClassName:l.menu,placeholderClassName:l.placeholder})}function ex(t){let{style:n}=t,[u,f,p]=Z((0,d.useCallback)(t=>[t.instrumentIDs,t.setInstrumentIDs,t.sections],[]),L.Z),g=(0,m.F)(l(2584)),y=N(),w=(0,d.useMemo)(()=>p.reduce((t,n)=>Math.max(t,n.ratios.length),-1),[p]),C=t=>n=>{let l=Number(n.value);u[t]=l,f(K()(u))};return(0,o.jsx)("div",{className:g.container,style:n,children:u.slice(0,w).map((t,n)=>(0,o.jsxs)("div",{className:g.instrument,children:[(0,o.jsxs)("div",{className:g.header,children:["track ",n+1," uses"]}),(0,o.jsx)("div",{className:g.body,children:(0,o.jsx)(eb,{onChange:C(n),value:{value:t,label:y[t]},options:y.map((t,n)=>({value:n,label:t}))})})]},n))})}function ey(){let t=(0,m.F)(l(1120)),n=Z((0,d.useCallback)(t=>t.editMode,[]));return(0,o.jsxs)("div",{className:t.container,children:[(0,o.jsx)(ep,{}),(0,o.jsx)(H,{}),(0,o.jsx)(ee,{}),"section"==n?(0,o.jsx)(Y,{}):"","instrument"==n?(0,o.jsx)(ex,{}):""]})}var ej=l(143);function ek(){return(0,o.jsx)("div",{style:{position:"fixed",left:"-100%",bottom:"10px"},children:(0,o.jsx)("a",{href:"https://hits.seeyoufarm.com",children:(0,o.jsx)("img",{src:"https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fangramme.github.io%2Fpolyrhythm3%2Findex.html&count_bg=%23303250&title_bg=%232D2D2D&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false"})})})}var ew=l(9008),eN=l.n(ew);let eC=l(8333);function eE(){let t=(0,m.F)(l(2763)),[n,f,p,g,y,w]=Z((0,d.useCallback)(t=>[t.paused,t.bpm,t.setBpm,t.sections,t.setSections,t.instrumentIDs],[]),L.X);(0,d.useEffect)(()=>{n?eC.Transport.pause():eC.Transport.start()},[n]),(0,d.useEffect)(()=>{eC.Transport.bpm.rampTo(f,.2)},[f]),(0,d.useEffect)(()=>{let t=()=>{eC.start(),eC.context.resume()};return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}},[]);let N=(0,d.useMemo)(()=>g.reduce((t,n)=>Math.max(t,n.ratios.length),-1),[g]);(0,d.useEffect)(()=>A(w,N),[w,N]),(0,d.useEffect)(()=>{let t=l(9042).Z;return t((t,n)=>{let{accent:l,duration:o,track:d}=n,u=D()[d];try{u(o,t,l)}catch(t){}},g),function(){eC.Transport.cancel(0)}},[g]);let[C,T]=(0,d.useState)("/favicon.png");(0,d.useEffect)(()=>Z.subscribe(t=>T(t),t=>P(t.sections)),[]);let M=(0,u.useRouter)();return(0,d.useEffect)(()=>{Object.keys(M.query).length<=0||(console.log("found state in url, proceeding to load..."),y(z(M.query)),p(Number(M.query.bpm)),window.history.replaceState({},document.title,window.location.pathname))},[M.query]),(0,o.jsxs)("div",{className:t.container,children:[(0,o.jsx)(eN(),{children:(0,o.jsx)("link",{rel:"icon",href:C})}),(0,o.jsx)(ek,{}),(0,o.jsx)(ey,{}),(0,o.jsxs)(ej.ZP,{location:"bottom",buttonText:"Hmmm, bingus",cookieName:"myAwesomeCookieName2",style:{background:"#111111"},buttonStyle:{color:"#111111",fontSize:"14px"},expires:150,children:["Give me them cookies! I don't VALUE (\uD83D\uDCB0\uD83D\uDCB0\uD83D\uDCB0) your privacy. "," ",(0,o.jsx)("span",{style:{fontSize:"12px"},children:"Just kidding, btw you can support me on buymeacoffee.com/angramme"})]})]})}},2763:function(t){t.exports={container:"Home_container__zBkib",dark:"Home_dark__bXtCX"}},5179:function(t){t.exports={container:"controls_container__6adgQ",dark:"controls_dark__lwgOs",title:"controls_title__RKHt_",table:"controls_table__XuhiD",button:"controls_button__u_eU5",transport_bar:"controls_transport_bar__18OAc",transport_button:"controls_transport_button__IB26f",settings_button:"controls_settings_button__OA8no",edit_mode:"controls_edit_mode__9XkTH"}},2520:function(t){t.exports={control:"dropdown_control___4gTE",dark:"dropdown_dark__UuI7v",menu:"dropdown_menu__r5C4q"}},2422:function(t){t.exports={container:"editor_container__54Od8",dark:"editor_dark__2uKtF",flex_container:"editor_flex_container__iUAfe",single_fields:"editor_single_fields__kjBaJ",table:"editor_table__98Mzg"}},2459:function(t){t.exports={field:"field_field__UplHP",dark:"field_dark__zTnw_",wrong:"field_wrong__9GSLZ","type-button":"field_type-button__rd8Qj",title:"field_title__GPooy"}},2584:function(t){t.exports={container:"instruments_container__8GT_I",dark:"instruments_dark__oLA6v",instrument:"instruments_instrument__zZTXU",header:"instruments_header__1wUhP"}},1120:function(t){t.exports={container:"main_container__n9Axs"}},5293:function(t){t.exports={container:"ratiopicker_container__MwOUh",ratios:"ratiopicker_ratios__r3LJq",field:"ratiopicker_field__E48MM",add_btn:"ratiopicker_add_btn__Rvh5S",dark:"ratiopicker_dark__PsVaz",delimiter:"ratiopicker_delimiter__Pk_BF"}},4886:function(t){t.exports={displacer:"topbar_displacer__Lf52C",left:"topbar_left__4PKZ1",right:"topbar_right__b4eNn",dark:"topbar_dark__2TKdB",button:"topbar_button__YwdMG",tooltip:"topbar_tooltip__quZna",sellout:"topbar_sellout___eIvZ",sellout_box:"topbar_sellout_box__83uqx",coffee_btns:"topbar_coffee_btns__sWkq5",imbroke:"topbar_imbroke___kIF8",coffee_img:"topbar_coffee_img__Qpmz3",coffee_text:"topbar_coffee_text__EqO_D",coffee_button:"topbar_coffee_button__RVV2x"}},8806:function(t){t.exports={container:"visualisation_container__gWEBd",dark:"visualisation_dark__K885i",section:"visualisation_section__QsB13",dragover:"visualisation_dragover___NY_Y",current:"visualisation_current___LTBJ",section_part:"visualisation_section_part__QeGfN",even:"visualisation_even___ldDF",repeat_line:"visualisation_repeat_line__7yZZv",scale_corner:"visualisation_scale_corner__QtAvO",repeated:"visualisation_repeated__ckUze",row:"visualisation_row__Iqwue",dot:"visualisation_dot__PPanR",sub_dot:"visualisation_sub_dot__VSA7U",add_btn:"visualisation_add_btn__y20hv",bar_parent:"visualisation_bar_parent__VFomg",bar:"visualisation_bar__5v4th"}}},function(t){var n=function(n){return t(t.s=n)};t.O(0,[757,90,415,937,874,617,387,774,888,179],function(){return n(5557)}),_N_E=t.O()}]);